(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesMain-select_user-select_user"],{"0539":function(e,t,n){"use strict";var i=n("c2b6"),a=n.n(i);a.a},"19f7":function(e,t,n){"use strict";n.r(t);var i=n("e9b5"),a=n.n(i);for(var s in i)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(s);t["default"]=a.a},"2e90":function(e,t,n){"use strict";(function(e){n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("e25e"),n("caad"),n("2532"),n("b64b"),n("d81d");var a=i(n("b732")),s={components:{mSearch:a.default},data:function(){return{depId:"top",depList:[],userList:[],check:"checkbox",range:"all",searchTxt:""}},onLoad:function(t){e("log","o",t," at pagesMain/select_user/select_user.vue:62"),t.dep_id>0&&(this.depId=parseInt(t.dep_id)),t.check&&(this.check=t.check,e("log","this.check",this.check," at pagesMain/select_user/select_user.vue:68")),t.range&&(this.range=t.range,e("log","this.range",this.range," at pagesMain/select_user/select_user.vue:72")),this.getDepList(),this.getUserList();var n=getApp().globalData.selectUserPageDepth;getApp().globalData.selectUserPageDepth=n+1},onNavigationBarButtonTap:function(t){e("log","getApp().globalData.selectUserPageDepth",getApp().globalData.selectUserPageDepth," at pagesMain/select_user/select_user.vue:92"),uni.$emit("select_user",getApp().globalData.selectUserList),uni.navigateBack({delta:getApp().globalData.selectUserPageDepth}),getApp().globalData.selectUserList={},getApp().globalData.selectUserPageDepth=0},onBackPress:function(t){if(e("log","onBackPress",t.from," at pagesMain/select_user/select_user.vue:102"),"backbutton"===t.from){var n=getApp().globalData.selectUserPageDepth;getApp().globalData.selectUserPageDepth=n-1}},watch:{searchTxt:function(e){""==e?this.getDepList():this.depList=[]}},methods:{search:function(e){this.searchTxt=e,this.getUserList()},radioChange:function(e){for(var t=0;t<this.items.length;t++)if(this.items[t].value===e.target.value){this.current=t;break}},checkboxChange:function(e){for(var t=this.userList,n=e.detail.value,i=getApp().globalData.selectUserList,a=0,s=t.length;a<s;++a){var c=t[a];n.includes(c.id+"")?(this.$set(c,"checked",!0),i[c.id+""]=c):(this.$set(c,"checked",!1),delete i[c.id+""])}getApp().globalData.selectUserList=i},getDepList:function(){var e=this;this.$server.postJSON("/department/getDepList",{token:getApp().globalData.token,dep_id:this.depId,range:this.range},(function(t){e.depList=t.data.result}))},getUserList:function(){var e=this;this.$server.postJSON("/department/getUserListByDepId",{token:getApp().globalData.token,dep_id:this.depId,range:this.range,keyword:this.searchTxt},(function(t){var n=getApp().globalData.selectUserList,i=Object.keys(n);e.userList=t.data.result.map((function(e){return e.checked=i.includes(e.id+""),e}))}))},clickDep:function(t){e("log","id",t," at pagesMain/select_user/select_user.vue:178"),e("log","this.check",this.check," at pagesMain/select_user/select_user.vue:179"),uni.navigateTo({url:"/pagesMain/select_user/select_user?dep_id="+t+"&check="+this.check+"&range="+this.range})},clickUser:function(e){var t=getApp().globalData.selectUserListClickUserToUrl;uni.navigateTo({url:t+"&user_id="+e.id+"&nickname="+e.nickname})}}};t.default=s}).call(this,n("0de9")["log"])},"4ea6":function(e,t,n){var i=n("5d20");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("1ca94bf3",i,!0,{sourceMap:!1,shadowMode:!1})},"55d6":function(e,t,n){e.exports=n.p+"static/img/me-nav3.18695eab.png"},"5d20":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.dep-item[data-v-0b54d30d],\r\n.user-item[data-v-0b54d30d]{display:flex;margin:%?30?%}.dep-img[data-v-0b54d30d],\r\n.user-img[data-v-0b54d30d]{width:%?80?%;height:%?80?%;margin-right:%?20?%;flex-shrink:0}.user-img[data-v-0b54d30d]{border-radius:50%}.item-text[data-v-0b54d30d]{display:flex;align-items:center;justify-content:space-between;height:auto;flex:1;border-bottom:1px solid #ddd;font-size:%?26?%}',""]),e.exports=t},"6d6e":function(e,t,n){"use strict";n.r(t);var i=n("2e90"),a=n.n(i);for(var s in i)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(s);t["default"]=a.a},7908:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.search[data-v-4460c0c4]{display:flex;width:100%;border-bottom:1px #f5f5f5 solid;box-sizing:border-box;padding:%?15?%;font-size:%?28?%;background:#fff}.search .content[data-v-4460c0c4]{display:flex;align-items:center;width:100%;height:%?60?%;border:1px #ccc solid;background:#fff;overflow:hidden;transition:all .2s linear;border-radius:30px}.search .content .content-box[data-v-4460c0c4]{width:100%;display:flex;align-items:center}.search .content .content-box.center[data-v-4460c0c4]{justify-content:center}.search .content .content-box .icon[data-v-4460c0c4]{padding:0 %?15?%}.search .content .content-box .icon.icon-del[data-v-4460c0c4]{font-size:%?38?%}.search .content .content-box .input[data-v-4460c0c4]{width:100%;max-width:100%;line-height:%?60?%;height:%?60?%;transition:all .2s linear}.search .content .content-box .input.center[data-v-4460c0c4]{width:%?200?%}.search .content .content-box .input.sub[data-v-4460c0c4]{width:auto;color:grey}.search .content .searchBtn[data-v-4460c0c4]{height:100%;flex-shrink:0;padding:0 %?30?%;background:#4cd964;line-height:%?60?%;color:#fff;border-left:1px #ccc solid;transition:all .3s}.search .button[data-v-4460c0c4]{display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0;width:0;transition:all .2s linear;white-space:nowrap;overflow:hidden}.search .button.active[data-v-4460c0c4]{padding-left:%?15?%;width:%?100?%}@font-face{font-family:iconfont;src:url(https://at.alicdn.com/t/font_989023_efq0mtli526.ttf) format("truetype")}.icon[data-v-4460c0c4]{font-family:iconfont;font-size:%?32?%;font-style:normal;color:#999}',""]),e.exports=t},8152:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"search",style:{backgroundColor:e.backgroundColor}},[n("v-uni-view",{staticClass:"content",style:{"border-radius":e.radius+"px",border:e.border}},[n("v-uni-view",{staticClass:"content-box",class:{center:2===e.mode}},[n("v-uni-text",{staticClass:"icon icon-search"},[e._v("")]),n("v-uni-input",{staticClass:"input",class:{center:!e.active&&2===e.mode},attrs:{focus:e.isFocus,placeholder:e.placeholder},on:{focus:function(t){arguments[0]=t=e.$handleEvent(t),e.focus.apply(void 0,arguments)},blur:function(t){arguments[0]=t=e.$handleEvent(t),e.blur.apply(void 0,arguments)}},model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}}),e.isDelShow?n("v-uni-text",{staticClass:"icon icon-del",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clear.apply(void 0,arguments)}}},[e._v("")]):e._e()],1),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.active&&e.show&&"inside"===e.button||e.isDelShow&&"inside"===e.button,expression:"(active && show && button === 'inside') || (isDelShow && button === 'inside')"}],staticClass:"searchBtn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.search.apply(void 0,arguments)}}},[e._v("搜索")])],1),"outside"===e.button?n("v-uni-view",{staticClass:"button",class:{active:e.show||e.active},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.search.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"button-item"},[e._v(e._s(e.show?"搜索":e.searchName))])],1):e._e()],1)},a=[]},a200:function(e,t,n){"use strict";var i=n("4ea6"),a=n.n(i);a.a},b732:function(e,t,n){"use strict";n.r(t);var i=n("8152"),a=n("19f7");for(var s in a)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(s);n("0539");var c=n("f0c5"),r=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"4460c0c4",null,!1,i["a"],void 0);t["default"]=r.exports},c2b6:function(e,t,n){var i=n("7908");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("e1df0c58",i,!0,{sourceMap:!1,shadowMode:!1})},c7fe:function(e,t,n){"use strict";n.r(t);var i=n("cdd2"),a=n("6d6e");for(var s in a)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(s);n("a200");var c=n("f0c5"),r=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"0b54d30d",null,!1,i["a"],void 0);t["default"]=r.exports},cdd2:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("mSearch",{attrs:{placeholder:"请输入姓名"},on:{search:function(t){arguments[0]=t=e.$handleEvent(t),e.search.apply(void 0,arguments)}}}),e.depList.length>0||e.userList.length>0?i("v-uni-view",["radio"==e.check?i("v-uni-radio-group",{on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.radioChange.apply(void 0,arguments)}}},e._l(e.userList,(function(t,n){return i("v-uni-view",{key:t.id,staticClass:"user-item"},[i("v-uni-image",{staticClass:"user-img",attrs:{src:t.head_pic}}),i("v-uni-view",{staticClass:"item-text"},[i("v-uni-text",[e._v(e._s(t.nickname))]),i("v-uni-radio",{attrs:{value:t.value,checked:n===e.current}})],1)],1)})),1):"checkbox"==e.check?i("v-uni-checkbox-group",{on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.checkboxChange.apply(void 0,arguments)}}},e._l(e.userList,(function(t,n){return i("v-uni-view",{key:t.id,staticClass:"user-item"},[i("v-uni-image",{staticClass:"user-img",attrs:{src:t.head_pic,mode:"aspectFill"}}),i("v-uni-view",{staticClass:"item-text"},[i("v-uni-text",[e._v(e._s(t.nickname))]),"checkbox"==e.check?i("v-uni-checkbox",{attrs:{value:t.id+"",checked:t.checked}}):e._e()],1)],1)})),1):e._l(e.userList,(function(t,n){return i("v-uni-view",{key:t.id,staticClass:"user-item",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.clickUser(t)}}},[i("v-uni-image",{staticClass:"user-img",attrs:{src:t.head_pic,mode:"aspectFill"}}),i("v-uni-view",{staticClass:"item-text"},[i("v-uni-text",[e._v(e._s(t.nickname))])],1)],1)})),e._l(e.depList,(function(t,a){return i("v-uni-view",{staticClass:"dep-item",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.clickDep(t.id)}}},[i("v-uni-image",{staticClass:"dep-img",attrs:{src:n("55d6")}}),i("v-uni-view",{staticClass:"item-text"},[i("v-uni-text",[e._v(e._s(t.name))])],1)],1)}))],2):i("v-uni-view",{staticStyle:{margin:"50% auto",color:"#e5e5e5","text-align":"center"}},[i("v-uni-text",{staticClass:"cuIcon-warn"}),e._v("没有可选人员")],1)],1)},a=[]},e9b5:function(e,t,n){"use strict";(function(e){n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a9e3");var i={props:{mode:{type:Number,default:1},button:{type:String,default:"outside"},show:{type:Boolean,default:!0},radius:{type:String,default:"60"},placeholder:{type:String,default:"请输入搜索内容"},backgroundColor:{type:String,default:"#fff"},border:{type:String,default:"1px #f5f5f5 solid"}},data:function(){return{active:!1,inputVal:"",searchName:"取消",isDelShow:!1,isFocus:!1}},methods:{focus:function(){this.active=!0},blur:function(){this.isFocus=!1,this.inputVal||(this.active=!1)},clear:function(){this.inputVal="",this.active=!1,this.$emit("search","")},getFocus:function(){this.isFocus=!0},search:function(){this.inputVal&&(e("log",this.inputVal," at pagesMain/components/mehaotian-search/mehaotian-search.vue:77"),this.$emit("search",this.inputVal))}},watch:{inputVal:function(e){e?(this.searchName="搜索",this.isDelShow=!0):(this.searchName="取消",this.isDelShow=!1)}}};t.default=i}).call(this,n("0de9")["log"])}}]);